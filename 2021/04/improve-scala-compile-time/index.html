<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Improve your Scala Compilation Times | Stephen's Tech Blog</title><meta name=keywords content><meta name=description content="How to Improve your Scala Compilation Times"><meta name=author content="Stephen Nancekivell"><link rel=canonical href=https://stephenn.com/2021/04/improve-scala-compile-time/><link crossorigin=anonymous href=/assets/css/stylesheet.min.d1b059b1e59019acbcb9abc899cab7a2eaa982555ca8891f1416094bb8854660.css integrity="sha256-0bBZseWQGay8uavImcq3ouqpglVcqIkfFBYJS7iFRmA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://stephenn.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://stephenn.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://stephenn.com/favicon-32x32.png><link rel=apple-touch-icon href=https://stephenn.com/apple-touch-icon.png><link rel=mask-icon href=https://stephenn.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-LNCP0VXVCC"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LNCP0VXVCC",{anonymize_ip:!1})}</script><meta property="og:title" content="How to Improve your Scala Compilation Times"><meta property="og:description" content="How to Improve your Scala Compilation Times"><meta property="og:type" content="article"><meta property="og:url" content="https://stephenn.com/2021/04/improve-scala-compile-time/"><meta property="og:image" content="https://stephenn.com/assets/2021-04-12-compile-summary-chart-2.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-12T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-12T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://stephenn.com/assets/2021-04-12-compile-summary-chart-2.png"><meta name=twitter:title content="How to Improve your Scala Compilation Times"><meta name=twitter:description content="How to Improve your Scala Compilation Times"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://stephenn.com/posts/"},{"@type":"ListItem","position":3,"name":"How to Improve your Scala Compilation Times","item":"https://stephenn.com/2021/04/improve-scala-compile-time/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Improve your Scala Compilation Times","name":"How to Improve your Scala Compilation Times","description":"How to Improve your Scala Compilation Times","keywords":[],"articleBody":"It‚Äôs no secret that Scala programming can have long compile times. We pay the price for advanced language features that let us write concise programs and eliminate entire classes of bugs.\nBut I want fast compiles and fancy language features. I want to have my cake, and eat it too.\nUsually long compiles are not a big deal. Scala‚Äôs compile times have improved a lot over the years. With Scala‚Äôs incremental compilation you only need to re-compile the few files you changed, not the entire project. But Continuous Integration servers are not so lucky.\nWith experience you can learn what features are prone to slow compilation but it‚Äôs hard to prove and have confidence that your optimisations are worth it. That was until now, now the new IntelliJ IDEA has compilation charts which show unit (file) level compilation times. So we can easily find the slowest compiling parts of our code and make a few well placed changes to dramatically improve compilation time. This feature builds on scalac-profiling, which generated flame charts.\nIntelliJ Scala Compilation Chart You can find the Compilation Chart by rebuilding the project and looking in the ‚ÄúBuild‚Äù tab and in ‚ÄúChart‚Äù.\nI‚Äôll use my project Real Email as an example. It‚Äôs a web API that validates email addresses and records stats. It‚Äôs relatively simple for a Scala project, being 100 files and 8000 lines of code. It already builds quickly at 12 seconds. But we can make it much faster. The same optimisation techniques can be applied to larger projects.\nModules, Phases and Units IntelliJ‚Äôs ‚ÄúModules‚Äù view shows different project modules. I only have 2 modules: main source, and test source. But if you have multiple this chart can show you what modules are compiled in parallel. You can move code dependencies to improve compilation parallelization.\nIntelliJ‚Äôs ‚ÄúPhases‚Äù view shows the Scala compilation phases for each module. Typer is the main phase we have control over, it‚Äôs where all the type checking and implicit search happens. Typer is always the slowest but if it‚Äôs very high (like over 70% of the time) it‚Äôs a good sign something crazy is going on.\nThe ‚ÄúUnits‚Äù view shows individual files at each phase. Each file is represented as an inner black line. Look for the longest lines. I have 100 files, but only a dozen stand out without zooming in.\nI‚Äôm going to focus on AppContext.scala and FlywayContext.scala which together take about 1 second to compile.\nHovering over AppContext.scala, the first black line.\nOptimising Scala Compile Time Now that we know what files are slow, we need to find exactly what code in each file is making it slow.\nOptimising Scala Tips Macros and implicit search used together. Implicit search, macros and Type Classes are fine on their own, but if the implicit search is triggering macros like in Shapeless compile time can blow out. Automatically parsing things like JSON into case classes is a common use case. Orphan typeclass instances. Put your implicit instances in the companion object if you can. This is the first place implicit search looks before searching other imports based on scope. This also removes ambiguity, you don‚Äôt want the order of imports determining which instance is found. Unused imports or code. Compile less code to save time. This also limits the search space for implicit resolution. Use Scalac‚Äôs -Ywarn-unused options to help. Put explicit types on public class members, and set private members private. Reducing the public API surface helps incremental compilation avoid recompiling users of a class. Organise modules and code so more modules can be compiled in parallel. Type level programming which is complex and being based on implicit search subtle changes to the search order can have a big impact. Eg in JSON codec derivation In my project, AppContext.scala and FlywayContext.scala together take about 1 second to compile. I‚Äôm using PureConfig to load config files as case classes using automatic type class derivation, which behind the scenes uses macros and implicit search.\nIn the code this is done with the two lines:\nimport pureconfig.generic.auto._ val config = pureconfig.loadConfigOrThrow[Config] The loadConfigOrThrow function takes an implicit parameter implicit reader: Derivation[ConfigReader[Config]]\nBecause I haven‚Äôt defined a ConfigReader myself, the implicit search is going to find one via the generic.auto._ import which uses Shapeless‚Äôs macros. So to optimise this, I‚Äôm going to define my own ConfigReader for my Config case class in its companion object. PureConfig makes this easy with the ConfigReader.forProductN methods. Implicit search is still used to find the right ConfigReader for each field, but that can be done without the expensive macro expansion.\nFor example in my nested smaller config case class Db. I need to define a ConfigReader.\ncase class Db(jdbcConnectionString: String, username: String, password: String) object Db { implicit val configReader: ConfigReader[Db] = ConfigReader .forProduct3(\"jdbcConnectionString\",\"username\",\"password\")(Db.apply) } My change was as simple as removing the generic.auto._ import from AppContext and FlywayContext and defining the ConfigReader‚Äôs.\nWith this change, the compile time for those files comes down from 1 second to about 100ms. For the small cost of adding some boilerplate, we gained considerable compiler speed.\nI was able to apply the same optimization to my Circe JSON codecs and bring the total compilation time down from 12 to 7 seconds. So that‚Äôs a 40% üí™ time saving with just a little bit of simple refactoring.\nConclusion IntelliJ‚Äôs build chart is great. Now we have an easy way to see the hidden compile time cost of different ways to write code, and we can make an informed tradeoff. Im looking forward to using this on my other project which takes 20 minutes to build. Let me know if you have any cool stories where a small code change has made a big compile time difference.\nIf you liked this article and want more scala tips, follow me on twitter @hi_stephen_n üíô\n","wordCount":"970","inLanguage":"en","image":"https://stephenn.com/assets/2021-04-12-compile-summary-chart-2.png","datePublished":"2021-04-12T00:00:00Z","dateModified":"2021-04-12T00:00:00Z","author":{"@type":"Person","name":"Stephen Nancekivell"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://stephenn.com/2021/04/improve-scala-compile-time/"},"publisher":{"@type":"Organization","name":"Stephen's Tech Blog","logo":{"@type":"ImageObject","url":"https://stephenn.com/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://stephenn.com accesskey=h title="Stephen's Tech Blog (Alt + H)">Stephen's Tech Blog</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=https://webhookwizard.com title="Webhook Wizard üßô‚Äç‚ôÇÔ∏è"><span>Webhook Wizard üßô‚Äç‚ôÇÔ∏è</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How to Improve your Scala Compilation Times</h1><div class=post-meta><span title='2021-04-12 00:00:00 +0000 UTC'>April 12, 2021</span>&nbsp;¬∑&nbsp;5 min&nbsp;¬∑&nbsp;Stephen Nancekivell</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#intellij-scala-compilation-chart aria-label="IntelliJ Scala Compilation Chart">IntelliJ Scala Compilation Chart</a></li><li><a href=#modules-phases-and-units aria-label="Modules, Phases and Units">Modules, Phases and Units</a></li><li><a href=#optimising-scala-compile-time aria-label="Optimising Scala Compile Time">Optimising Scala Compile Time</a></li><li><a href=#optimising-scala-tips aria-label="Optimising Scala Tips">Optimising Scala Tips</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><p>It&rsquo;s no secret that <a href=https://scala-lang.org>Scala</a> programming can have long compile times. We pay the price for advanced language features that let us write concise programs and eliminate entire classes of bugs.</p><p>But I <em>want</em> fast compiles and fancy language features. I want to have my cake, and eat it too.</p><p><img loading=lazy src=https://imgs.xkcd.com/comics/compiling.png alt=compiling></p><p>Usually long compiles are not a big deal. Scala&rsquo;s compile times have improved a lot <a href="https://scala-ci.typesafe.com/grafana/dashboard/db/scala-benchmark?orgId=1&from=now-5y&to=now&var-branch=2.12.x&var-branch=2.13.x&var-source=All&var-bench=HotScalacBenchmark.compile&var-host=scalabench@scalabench@">over the years</a>. With Scala‚Äôs incremental compilation you only need to re-compile the few files you changed, not the entire project. But Continuous Integration servers are not so lucky.</p><p>With experience you can learn what features are prone to slow compilation but it&rsquo;s hard to prove and have confidence that your optimisations are worth it. That was until now, now the new IntelliJ IDEA has <a href=https://blog.jetbrains.com/scala/2021/04/07/intellij-scala-plugin-2021-1/#phases-and-units-in-compilation-charts>compilation charts</a> which show unit (file) level compilation times. So we can easily find the slowest compiling parts of our code and make a few well placed changes to dramatically improve compilation time. This feature builds on <a href=https://www.scala-lang.org/blog/2018/06/04/scalac-profiling.html>scalac-profiling</a>, which generated flame charts.</p><h2 id=intellij-scala-compilation-chart>IntelliJ Scala Compilation Chart<a hidden class=anchor aria-hidden=true href=#intellij-scala-compilation-chart>#</a></h2><p>You can find the Compilation Chart by rebuilding the project and looking in the ‚ÄúBuild‚Äù tab and in ‚ÄúChart‚Äù.</p><p><img loading=lazy src=/assets/2021-04-12-compilation-chart-1a.gif alt="IntelliJ IDEA Complication Chart"></p><p>I‚Äôll use my project <a href=https://IsItARealEmail.com>Real Email</a> as an example. It&rsquo;s a web API that validates email addresses and records stats. It&rsquo;s relatively simple for a Scala project, being 100 files and 8000 lines of code. It already builds quickly at 12 seconds. But we can make it much faster. The same optimisation techniques can be applied to larger projects.</p><h2 id=modules-phases-and-units>Modules, Phases and Units<a hidden class=anchor aria-hidden=true href=#modules-phases-and-units>#</a></h2><p>IntelliJ&rsquo;s &ldquo;Modules&rdquo; view shows different project modules. I only have 2 modules: main source, and test source. But if you have multiple this chart can show you what modules are compiled in parallel. You can move code dependencies to improve compilation parallelization.</p><p>IntelliJ&rsquo;s &ldquo;Phases&rdquo; view shows the Scala compilation <a href=https://docs.scala-lang.org/overviews/compiler-options/index.html#compilation-phases>phases</a> for each module. Typer is the main phase we have control over, it&rsquo;s where all the type checking and implicit search happens. Typer is always the slowest but if it&rsquo;s very high (like over 70% of the time) it&rsquo;s a good sign something crazy is going on.</p><p>The &ldquo;Units&rdquo; view shows individual files at each phase. Each file is represented as an inner black line. Look for the longest lines. I have 100 files, but only a dozen stand out without zooming in.</p><p>I‚Äôm going to focus on <code>AppContext.scala</code> and <code>FlywayContext.scala</code> which together take about 1 second to compile.</p><p><img loading=lazy src=/assets/2021-04-12-compiling-1-zoom.png alt="Complication Chart AppContext">
Hovering over AppContext.scala, the first black line.</p><h2 id=optimising-scala-compile-time>Optimising Scala Compile Time<a hidden class=anchor aria-hidden=true href=#optimising-scala-compile-time>#</a></h2><p>Now that we know what files are slow, we need to find exactly what code in each file is making it slow.</p><h2 id=optimising-scala-tips>Optimising Scala Tips<a hidden class=anchor aria-hidden=true href=#optimising-scala-tips>#</a></h2><ul><li>Macros and implicit search used together. Implicit search, macros and Type Classes are fine on their own, but if the implicit search is triggering macros like in <a href=https://github.com/milessabin/shapeless>Shapeless</a> compile time can blow out. Automatically parsing things like JSON into case classes is a common use case.</li><li>Orphan typeclass instances. Put your implicit instances in the companion object if you can. This is the first place implicit search looks before searching other imports based on scope. This also removes ambiguity, you don‚Äôt want the order of imports determining which instance is found.</li><li>Unused imports or code. Compile less code to save time. This also limits the search space for implicit resolution. Use Scalac‚Äôs <code>-Ywarn-unused</code> options to help.</li><li>Put explicit types on public class members, and set private members private. Reducing the public API surface helps incremental compilation avoid recompiling users of a class.</li><li>Organise modules and code so more modules can be compiled in parallel.</li><li>Type level programming which is complex and being based on implicit search subtle changes to the search order can have a big impact. Eg in <a href=https://stephenn.com/2017/07/circe-argonaut-shapless-play-json-compile-time.html>JSON codec derivation</a></li></ul><p>In my project, <code>AppContext.scala</code> and <code>FlywayContext.scala</code> together take about 1 second to compile. I&rsquo;m using <a href=https://pureconfig.github.io/>PureConfig</a> to load config files as case classes using automatic type class derivation, which behind the scenes uses macros and implicit search.</p><p>In the code this is done with the two lines:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#ff79c6>import</span> pureconfig.generic.auto._
</span></span><span style=display:flex><span><span style=color:#ff79c6>val</span> config <span style=color:#ff79c6>=</span> pureconfig<span style=color:#ff79c6>.</span>loadConfigOrThrow<span style=color:#ff79c6>[</span><span style=color:#8be9fd>Config</span><span style=color:#ff79c6>]</span>
</span></span></code></pre></div><p>The <code>loadConfigOrThrow</code> function takes an implicit parameter <code>implicit reader: Derivation[ConfigReader[Config]]</code></p><p>Because I haven&rsquo;t defined a <code>ConfigReader</code> myself, the implicit search is going to find one via the <code>generic.auto._</code> import which uses Shapeless‚Äôs macros. So to optimise this, I&rsquo;m going to define my own <code>ConfigReader</code> for my <code>Config</code> case class in its companion object. PureConfig makes this easy with the <code>ConfigReader.forProductN</code> methods. Implicit search is still used to find the right ConfigReader for each field, but that can be done without the expensive macro expansion.</p><p>For example in my nested smaller config case class <code>Db</code>. I need to define a ConfigReader.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#ff79c6>case</span> <span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Db</span><span style=color:#ff79c6>(</span>jdbcConnectionString<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>String</span><span style=color:#ff79c6>,</span> username<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>String</span><span style=color:#ff79c6>,</span> password<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>String</span><span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>object</span> <span style=color:#50fa7b>Db</span> <span style=color:#ff79c6>{</span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>implicit</span> <span style=color:#ff79c6>val</span> configReader<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>ConfigReader</span><span style=color:#ff79c6>[</span><span style=color:#8be9fd>Db</span><span style=color:#ff79c6>]</span> <span style=color:#ff79c6>=</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>ConfigReader</span>
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>.</span>forProduct3<span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;jdbcConnectionString&#34;</span><span style=color:#ff79c6>,</span><span style=color:#f1fa8c>&#34;username&#34;</span><span style=color:#ff79c6>,</span><span style=color:#f1fa8c>&#34;password&#34;</span><span style=color:#ff79c6>)(</span><span style=color:#50fa7b>Db</span><span style=color:#ff79c6>.</span>apply<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>}</span>
</span></span></code></pre></div><p>My change was as simple as removing the <code>generic.auto._</code> import from <code>AppContext</code> and <code>FlywayContext</code> and defining the <code>ConfigReader</code>‚Äôs.</p><p>With this change, the compile time for those files comes down from 1 second to about 100ms. For the small cost of adding some boilerplate, we gained considerable compiler speed.</p><p>I was able to apply the same optimization to my <a href=circe.io>Circe</a> JSON codecs and bring the total compilation time down from 12 to 7 seconds. So that&rsquo;s a 40% üí™ time saving with just a little bit of simple refactoring.</p><p><img loading=lazy src=/assets/2021-04-12-compiling-zoom-2.png alt="IntelliJ IDEA Complication Chart"></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>IntelliJ&rsquo;s build chart is great. Now we have an easy way to see the hidden compile time cost of different ways to write code, and we can make an informed tradeoff. Im looking forward to using this on my other project which takes 20 minutes to build. Let me know if you have any cool stories where a small code change has made a big compile time difference.</p><p>If you liked this article and want more scala tips, follow me on twitter <a href=https://twitter.com/hi_stephen_n>@hi_stephen_n</a> üíô</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://stephenn.com/2021/04/docker-repository-cleaning/><span class=title>¬´ Prev</span><br><span>Docker Repository Cleaning</span></a>
<a class=next href=https://stephenn.com/2021/03/sql-join-queries-temporary-tables/><span class=title>Next ¬ª</span><br><span>Improve SQL Join Queries that use Temporary Tables & File Sorts</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share How to Improve your Scala Compilation Times on twitter" href="https://twitter.com/intent/tweet/?text=How%20to%20Improve%20your%20Scala%20Compilation%20Times&url=https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Improve your Scala Compilation Times on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f&title=How%20to%20Improve%20your%20Scala%20Compilation%20Times&summary=How%20to%20Improve%20your%20Scala%20Compilation%20Times&source=https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Improve your Scala Compilation Times on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f&title=How%20to%20Improve%20your%20Scala%20Compilation%20Times"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Improve your Scala Compilation Times on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Improve your Scala Compilation Times on whatsapp" href="https://api.whatsapp.com/send?text=How%20to%20Improve%20your%20Scala%20Compilation%20Times%20-%20https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Improve your Scala Compilation Times on telegram" href="https://telegram.me/share/url?text=How%20to%20Improve%20your%20Scala%20Compilation%20Times&url=https%3a%2f%2fstephenn.com%2f2021%2f04%2fimprove-scala-compile-time%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><footer class=footer><span>&copy; 2022 <a href=https://stephenn.com>Stephen's Tech Blog</a></span><div class=social-icons><a href=https://github.com/stephennancekivell target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://twitter.com/hi_stephen_n target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://www.linkedin.com/in/stephen-nancekivell-77003039 target=_blank rel="noopener noreferrer me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a href=893854/stephen target=_blank rel="noopener noreferrer me" title=Stackoverflow><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.913 16.041v6.848h17.599v-6.848M7.16 18.696h8.925M7.65 13.937l8.675 1.8M9.214 9.124l8.058 3.758M12.086 4.65l6.849 5.66M15.774 1.111l5.313 7.162"/></svg></a></div></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>