---
layout: post
title: Document Browsing and Comparison
date: '2011-06-21T18:15:00.000-07:00'
author: Stephen Nancekivell
tags: 
modified_time: '2011-06-21T18:15:04.375-07:00'
thumbnail: /assets/2011-06-21-document-browsing-and-comparison-qhgvVGsBuM3UDf4CLM6LWJ8BSlw-LeGmnn295SbMrRhHhZ7XkaaZdsqPEhgrfTmu3H7vzVYiX75ZUWUpwLSmjn26J8n3YhadSDGcJiV5pSmPESey94o.png=s72-c
blogger_id: tag:blogger.com,1999:blog-2519344180739427574.post-7818306352344193470
blogger_orig_url: http://blog.stephenn.com/2011/06/document-browsing-and-comparison.html
---

<div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span id="internal-source-marker_0.18130258983001113" style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">I've been looking at ways to organize a document set. Im particularly interested in comparing and clustering documents based on their content. In these experiments a test set of Wikipedia documents, most of the documents come from a keyword search about fish with some random ones to mix it up.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">For comparing these documents I’ve used the categories taken from wikipedia and mined the important words. Each document can belong to multiple categories. Often these are subject categories but sometimes they just serve to help the structure of wikipedia. The important words (judged my </span><a href="http://en.wikipedia.org/wiki/Tf-idf"><span style="background-color: transparent; color: #000099; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;">TF-IDF</span></a><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">) are words that define the content of the document, these are good keywords.</span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: Arial;"><span class="Apple-style-span" style="font-size: 15px; white-space: pre-wrap;"><br /></span></span><span class="Apple-style-span" style="font-family: Arial; font-size: 15px; font-weight: bold; white-space: pre-wrap;">keyword search</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Often keyword search is the only way to browse a document set, this is bad because keywords can be ambiguous, people can accidentally choose bad keywords and not know when they have.</span><br /><h5 dir="ltr"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Description</span></h5><h5 dir="ltr"><span class="Apple-style-span" style="font-family: Arial;"><span class="Apple-style-span" style="font-size: 15px; font-weight: normal; white-space: pre-wrap;">I've</span></span><span class="Apple-style-span" style="font-family: Arial; font-size: 15px; font-weight: normal; white-space: pre-wrap;"> chosen to display this document set in a node graph where the relationships between objects can clearly be seen. The tools used are <a href="http://arborjs.org/">Arbor.js</a> and Canvas. Arbor.js is a javascript library that creates a weighted gravity node graph. One of the useful effects of a weighted graph is that connected nodes become close to each other while other nodes are pushed away. Canvas the HTML 5 element draws the graph. Using Canvas I’ve been able to hide parts of the graph that I don’t want to display and make them available when the user moves their mouse over top of connected nodes. The way this is done make the relationships between documents stand out clearly.</span></h5><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><h5 dir="ltr"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Document First approach (m2)</span></h5><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The wikipedia documents shown as the red nodes always visible. With the metadata nodes (important words &amp; categories) as hidden nodes. When a user moves the mouse over a document node all of that documents metadata nodes become visible, showing if any are related to other documents. The space between nodes shows how different or similar they are. This comes from the physics in Arbor.js moving connected nodes together and other nodes away.</span><div dir="ltr"><span class="Apple-style-span" style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse;"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><img height="435px;" id="internal-source-marker_0.1337719690054655" src="/assets/2011-06-21-document-browsing-and-comparison-qhgvVGsBuM3UDf4CLM6LWJ8BSlw-LeGmnn295SbMrRhHhZ7XkaaZdsqPEhgrfTmu3H7vzVYiX75ZUWUpwLSmjn26J8n3YhadSDGcJiV5pSmPESey94o.png" style="margin-left: auto; margin-right: auto;" width="534px;" /></td></tr><tr><td class="tr-caption" style="text-align: center;">Figure 1</td></tr></tbody></table></span></div><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><h5 dir="ltr"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Metadata First approach (m2r2mc)</span></h5><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The metadata nodes are shown first with the document nodes hidden. Related nodes will be close together with unrelated nodes far apart. When a Node is hovered over the connected document node(s) become visible. The length of a node is shown to the side of the document name. When a user clicks on a node that gets selected as a facet.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">When a user clicks on a metadata node it becomes selected as a facet and filters the nodes accordingly. When a user clicks on a document node they are taken to the wikipedia page of that document.</span><div dir="ltr"><span class="Apple-style-span" style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse;"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><img height="500px;" id="internal-source-marker_0.1337719690054655" src="/assets/2011-06-21-document-browsing-and-comparison-a0h5Iki_iKy2pJjA9ebKGADfsYZr-pZ6LO8yif6IpuMOR7cHwzGmGnbN6w58NsTxwVPDQD4SW925hihmmqnZfVoPCYVAEhi5G0m5PXlTGHRwZ-foFjE.png" style="margin-left: auto; margin-right: auto;" width="620px;" /></td></tr><tr><td class="tr-caption" style="text-align: center;">Figure 2</td></tr></tbody></table></span></div><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Sometimes a user will choose a bad facet and filter items that they want, with traditional document set visualisations its unclear to the user that they’ve made the mistake. One of the strengths of this method is a user can see if they're about to choose a good facet, because the related items will become visible. The user might see that they’re about to choose a bad filter and see a better one near by.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">One documents length does not relate to other documents. So this is presented just a text beside the document name. This doesn't take advantage of the graph nature of this presentation. It would be nice to present the length as the node size, but due to lack of time this couldn't be implemented.</span><div dir="ltr"><span class="Apple-style-span" style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse;"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><img height="355px;" id="internal-source-marker_0.1337719690054655" src="/assets/2011-06-21-document-browsing-and-comparison-aLfhSgPMV23p2qoHIHn-OLBtQCuFHc8BXE46QtyFgPMG82Zl3sP0gdBsFV2ObbVxLYapWdWEYxLTeHWC7ar7N6RdL5RjLpAi8DonxOrOfq_WWOjThkw.png" style="margin-left: auto; margin-right: auto;" width="645px;" /></td></tr><tr><td class="tr-caption" style="text-align: center;">Figure 3</td></tr></tbody></table></span></div><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">One of the problems with this approach is that the information space gets cluttered with lots of nodes flying about overlapping each other, as seen in Figure3. However the increase in nodes increases the gravitational pull between related nodes so it is still usable, you just need to limit the information space before you can make much sense of it. It would be good to be able to zoom in and out of such a graph based &nbsp;knowledge space to allow a user to browse over larger collections.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Its possible to limit the number of shown “important word” nodes, because they are ordered you can choose to show only the top 3,4 or 15. This has only been implemented with a php get option tf_limit=X where X is a number. It would be difficult to do the same with the categories.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">When limiting the amount of metadata nodes the similarities and differences between documents become less clear. This is an area for further research, it falls back on how good the important words are. In a small document set like the one used in this assignment its possible for unimportant words to have a high TF-IDF value, but with bigger datasets unimportant words should become less of a problem.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Figure 3 also shows 2 levels of connectedness with the document nodes, which are usually hidden. This makes it clearer what documents are related to each other.</span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: Arial;"><span class="Apple-style-span" style="font-size: 15px; white-space: pre-wrap;"><b>Future work</b></span></span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">It'd be cool to implement this all in javascript parsing the wikipedia pages on the fly. So the user can put in a keyword and compare the results, or the user could put in one wiki page and compare all linked to documents.</span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div style="background-color: transparent; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="background-color: transparent; color: black; font-family: Arial; font-size: 11pt; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">For a live example check out <a href="http://stephenn.info/p/comp543?b=m2">stephenn.info/p/comp543</a> this might kill your brower, its pretty heavy.</span></div>