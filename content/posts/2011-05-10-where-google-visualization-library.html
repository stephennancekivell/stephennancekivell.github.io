---
layout: post
title: Where the google visualization library sucks.
url: "2011/05/where-google-visualization-library"
date: '2011-05-10T03:39:00.000-07:00'
author: Stephen Nancekivell
tags: 
modified_time: '2012-09-22T23:13:35.114-07:00'
thumbnail: http://1.bp.blogspot.com/-9kGV1Kr-Des/TckPC8-SN4I/AAAAAAAAAOs/r4uxnqRxvP4/s72-c/testWrong.jpg
blogger_id: tag:blogger.com,1999:blog-2519344180739427574.post-4460260439854054330
blogger_orig_url: http://blog.stephenn.com/2011/05/where-google-visualization-library.html
---

If ya haven't checked out google charts&nbsp;<a href="http://code.google.com/apis/chart/interactive/docs/gallery/linechart.html">check them out, there pretty good.</a><br /><br />So you want to graph some stuff, but you dont have data for every point on the X axis, what do ya do.&nbsp;You dont do this. Its wrong. The distance between 1997 - 2005 is the same as between 2005 - 2006, giving different meaning to the graph<br /><div class="separator" style="clear: both; text-align: center;"></div><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="/assets/2011-05-10-where-google-visualization-library-testWrong.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="193" src="/assets/2011-05-10-where-google-visualization-library-testWrong.jpg" width="320" /></a></div><br />So what can ya do to get around it. You put in lots of null values inbetween the data points you have and configure the chart to interpolate those nulls. This would be too tedious to be a valid solution but with the addRows &amp; setValues method the code turns out alright.<br /><pre class="prettyprint lang-js">var data = new google.visualization.DataTable();<br />data.addColumn('string', 'Year');<br />data.addColumn('number', 'Sales');<br />data.addRows(10);<br />data.setValue(0, 0, '1997');<br />data.setValue(0, 1, 1000);<br />data.setValue(7, 0, '2005');<br />data.setValue(7, 1, 1170);<br />data.setValue(8, 0, '2006');<br />data.setValue(8, 1, 860);<br />data.setValue(9, 0, '2007');<br />data.setValue(9, 1, 1030);<br />var chart = new google.visualization.LineChart(document.getElementById('chart_div'));<br />chart.draw(data,{width:400, height:240, title:'Company Performance', interpolateNulls:true});<br /></pre><br /><div class="separator" style="clear: both; text-align: center;"><a href="/assets/2011-05-10-where-google-visualization-library-test.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="205" src="/assets/2011-05-10-where-google-visualization-library-test.jpg" width="320" /></a></div><div class="separator" separator="separator" style="clear: both;">Yay we have our chart, but all those nulls must be a bad thing. It probably using a flat array, that is&nbsp;truly&nbsp;full of nulls, giving a nasty hit to the performance. A quick look with the chrome dev tools confirms this.</div><div class="separator" style="clear: both;"><br /></div><div class="separator" style="clear: both; text-align: center;">First a chart with 10 rows</div><div class="separator" style="clear: both; text-align: center;"><a href="/assets/2011-05-10-where-google-visualization-library-test_profile.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="209" src="/assets/2011-05-10-where-google-visualization-library-test_profile.jpg" width="320" /></a></div><br /><div style="text-align: center;">Second a chart with 1000 rows</div><div class="separator" style="clear: both; text-align: center;"><a href="/assets/2011-05-10-where-google-visualization-library-testBig_profile.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="209" src="/assets/2011-05-10-where-google-visualization-library-testBig_profile.jpg" width="320" /></a></div><div class="separator" style="clear: both;"><br /></div><div class="separator" style="clear: both;">So its 100 times worse taking almost a second. Not good enough, what about when i want to a resolution of 10,000 points.</div>